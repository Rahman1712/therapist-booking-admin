<div class="container min-vh-100">

  <!-- Page content -->
  <div class="container-fluid mt--7">
    <!-- Table -->
    <div class="row">
      <div class="col">
        <div class="card shadow">
          <div class="card-header border-0">
            <h3 class="mb-0">Categories</h3>
          </div>

          <div class="container ">
            <div class="d-flex align-items-center">
              <button routerLink="/category-add" routerLinkActive="active" type="button" class="btn btn-primary me-3">
                <i class="bi bi-plus-circle"></i>
                Add Category
              </button>
            </div>
  
            <div class="d-flex flex-row align-items-center ms-auto m-3">
              <label for="form-label">Filter</label>
              <!-- (keyup)="applyFilter()" -->
              <input type="text" [(ngModel)]="searchText" placeholder="Search by fullname,username,role,email"
                class="form-control mx-2">
            </div>
          </div>

          <div class="table-responsive">
            <table class="table align-items-center table-flush">
              <thead class="thead-light">
                <tr>
                  <th scope="col">Image</th>
                  <th scope="col">Id</th>
                  <th scope="col">Name</th>
                  <th scope="col">Actions</th>
                </tr>
              </thead>
              <tbody>

                <tr *ngFor="let category of categoryDtoList | categoryfilter:searchText | paginate: { itemsPerPage: itemsPerPage, currentPage: p,  }; let i = index;">
                  <th scope="row">
                    <div class="media align-items-center cursor-pointer">
                      <a (click)="openCategoryViewModal(category)" class="avatar rounded-circle mr-3 ">
                        <img alt="Image placeholder" [src]='category.imageUrl' class="img-fluid" width="30" height="30">
                      </a>
                    </div>
                  </th>
                  <td>
                    <a (click)="openCategoryViewModal(category)" class="cursor-pointer">#{{ category.id }} </a>
                  </td>
                  <td>
                    {{category.name}}
                  </td>
                  
                  <td>
                    <div class="d-flex align-items-center">
                      <a routerLink="/category-update/{{category.id}}" routerLinkActive="active" class="cursor-pointer">
                        <span><i class="bi bi-pencil-square text-secondary mx-2"></i></span>
                      </a>
                      <!-- <span class="mr-2">  --- Delete logic link or button --- </span> -->
                    </div>
                  </td>
                </tr>

              </tbody>
            </table>
          </div>

          <div class="card-footer py-4">
            <div class="pagination justify-content-end mb-0">
              <pagination-controls
              (pageChange)="p = $event" 
              previousLabel="Prev"
              nextLabel="Next"
              [maxSize]="9"
              [directionLinks]="true"
              [autoHide]="true"
              screenReaderPaginationLabel="Pagination"
              screenReaderPageLabel="page"
              screenReaderCurrentLabel="You're on page"
              [responsive]="true"
              pages=""
            >
            </pagination-controls>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

</div>